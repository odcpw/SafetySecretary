{"id":"SafetySecretary-20z","title":"Finalize beads team workflow","description":"Decide whether to commit .beads config, set sync.branch, and run bd doctor --fix so all work stays in beads.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:05:17.906084634+01:00","updated_at":"2025-12-18T21:19:43.164911344+01:00","closed_at":"2025-12-18T21:19:43.164912826+01:00"}
{"id":"SafetySecretary-3zf","title":"Photo/attachment support per step","description":"Allow uploading pictures, associating them to steps/hazards, ordering, and showing in reports.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-12T00:03:45.094086047+01:00","updated_at":"2025-12-18T22:06:28.280385078+01:00","closed_at":"2025-12-18T22:06:28.280386683+01:00"}
{"id":"SafetySecretary-3zf.1","title":"Add Attachment model + migration","description":"Prisma model for images/attachments linked to case+optional step/hazard, with ordering.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:59.371626075+01:00","updated_at":"2025-12-18T20:39:16.348601112+01:00","closed_at":"2025-12-18T20:39:16.34860277+01:00","dependencies":[{"issue_id":"SafetySecretary-3zf.1","depends_on_id":"SafetySecretary-3zf","type":"parent-child","created_at":"2025-12-12T00:04:59.372259457+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-3zf.2","title":"Upload/download attachment API (local disk MVP)","description":"Implement POST /attachments with multer, serve /uploads, and endpoints to assign to steps/hazards.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:05:03.467479271+01:00","updated_at":"2025-12-18T21:07:58.552407834+01:00","closed_at":"2025-12-18T21:07:58.552409551+01:00","dependencies":[{"issue_id":"SafetySecretary-3zf.2","depends_on_id":"SafetySecretary-3zf","type":"parent-child","created_at":"2025-12-12T00:05:03.468294269+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-3zf.2","depends_on_id":"SafetySecretary-8u2.6","type":"blocks","created_at":"2025-12-18T19:17:51.798210106+01:00","created_by":"import"}]}
{"id":"SafetySecretary-3zf.3","title":"Frontend photos panel + drag assignment","description":"Per-step photo strip, upload button, drag/drop to steps, caption/order.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T00:05:07.252825288+01:00","updated_at":"2025-12-18T22:05:59.848129402+01:00","closed_at":"2025-12-18T22:05:59.848130952+01:00","dependencies":[{"issue_id":"SafetySecretary-3zf.3","depends_on_id":"SafetySecretary-3zf","type":"parent-child","created_at":"2025-12-12T00:05:07.253551149+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-4uq","title":"Project memory: HIRA table-first vision + key decisions","description":"Use this issue as the living 'memory'/context log for the project so future sessions don't lose the north star. Update this bead when we make a structural decision.\\n\\nCurrent context (confirmed):\\n- The Excel HIRA template is the conceptual model: its column headers/structure drive the DB schema and UI views (not necessarily exporting back into the .xlsm).\\n- The product is a workflow to help users fill the HIRA table; the LLM assists with language processing (first typed, later voice/TTS), not a gatekeeper.\\n- Hazards are per-step rows (Teilprozess context). The same hazard family can appear in multiple steps, but each occurrence is a separate hazard row with its own controls/ratings/actions.\\n- Target relationships: 1 step → many hazards; 1 hazard(row) → many actions.\\n\\nHow we’ll use this:\\n- Add/append 'Decisions' with date + rationale.\\n- Add 'Open questions' that should become beads.\\n- Link to key docs/plan sections when relevant.","acceptance_criteria":"- This bead remains updated with major decisions\\n- New sessions can read it and regain context quickly","notes":"2025-12-12 — Ratings scales (from template):\\n\\nSeverity (5-level):\\n1) First aid\\n2) Medical treatment (no lost time)\\n3) Lost time injury\\n4) Irreversible injury\\n5) Death\\n\\nLikelihood (5-level, 1=highest likelihood → 5=lowest):\\n1) Certain to occur (common/repeating; occurs regularly)\\n2) Likely to occur (known to occur; happened \u003e1x)\\n3) Possible to occur (could occur; happened once)\\n4) Unlikely to occur (could occur but not likely; known in industry)\\n5) Extremely unlikely (practically impossible; exceptional; unknown locally but possible in industry)\\n\\nRisk evaluation uses template scheme for now, with acceptance bands and guidance:\\n- Extreme risk: Treat; approve Station Manager; stop immediately; mitigate now.\\n- High risk: Treat; approve Unit/Dpt Head/BL leader; mitigate 1–3 weeks.\\n- Moderate risk: Treat or tolerate based on review (ALARP); mitigate 1–3 months.\\n- Minor risk: Tolerate; approve Supervisors; monitor controls.\\n- Negligible risk: Tolerate; approve Supervisors; monitor controls.\\n\\nLikelihood estimation considerations: exposure, technique/environment, awareness/leadership.\n\n2025-12-18 — Decisions:\n- Hazards are step-scoped rows: DB uses `Hazard.stepId` + `Hazard.orderIndex` (legacy `HazardStep` removed); migration splits multi-step hazards into per-step rows. See `docs/hazard_row_model.md`.\n- Attachments MVP: `Attachment` model with local-disk storage (`SAFETYSECRETARY_ATTACHMENTS_DIR`, `SAFETYSECRETARY_ATTACHMENT_MAX_BYTES`); API under `/api/ra-cases/:id/attachments` and per-step photo upload + drag/reorder UI.\n- Exports: XLSX export better matches the template and includes a Photos sheet from attachments.\n- LLM UX: Global contextual input supports a clarification loop; voice dictation via Web Speech API.\n- Beads workflow: sync branch is `beads-sync`; `bd sync` requires network access.","status":"closed","priority":0,"issue_type":"chore","created_at":"2025-12-12T12:31:06.163726876+01:00","updated_at":"2025-12-18T22:09:06.969110485+01:00","closed_at":"2025-12-18T22:09:06.969112098+01:00"}
{"id":"SafetySecretary-4uq.1","title":"(Optional) Keep memory bead curated","description":"When major decisions occur, append to SafetySecretary-4uq. Convert open questions into beads.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T12:58:27.949665187+01:00","updated_at":"2025-12-18T22:08:56.834334756+01:00","closed_at":"2025-12-18T22:08:56.834336307+01:00","dependencies":[{"issue_id":"SafetySecretary-4uq.1","depends_on_id":"SafetySecretary-4uq","type":"parent-child","created_at":"2025-12-12T12:58:27.950221198+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-7zz","title":"Meeting-room LLM assistant (written + spoken)","description":"Make it possible for a group to think out loud and have the HIRA table fill iteratively via text and voice.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-12T00:03:37.960141309+01:00","updated_at":"2025-12-18T21:20:51.915401695+01:00","closed_at":"2025-12-18T21:20:51.915403212+01:00"}
{"id":"SafetySecretary-7zz.1","title":"Refine prompts \u0026 command schemas","description":"Tighten LLM prompts for steps/hazards/controls/actions + contextual updates; ensure deterministic JSON.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T00:04:26.704139793+01:00","updated_at":"2025-12-18T20:35:47.591114535+01:00","closed_at":"2025-12-18T20:35:47.591116284+01:00","dependencies":[{"issue_id":"SafetySecretary-7zz.1","depends_on_id":"SafetySecretary-7zz","type":"parent-child","created_at":"2025-12-12T00:04:26.704890089+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-7zz.1","depends_on_id":"SafetySecretary-8u2.2","type":"blocks","created_at":"2025-12-12T00:05:39.427609256+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-7zz.2","title":"Clarification loop UX","description":"If parse returns needsClarification, capture follow-up and re-parse/apply cleanly.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:30.004781248+01:00","updated_at":"2025-12-18T20:32:23.788953567+01:00","closed_at":"2025-12-18T20:32:23.788955139+01:00","dependencies":[{"issue_id":"SafetySecretary-7zz.2","depends_on_id":"SafetySecretary-7zz","type":"parent-child","created_at":"2025-12-12T00:04:30.005468673+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-7zz.3","title":"Voice input MVP → contextual updates","description":"Add mic controls using browser STT, stream transcript into GlobalLLMInput/phase notes, parse/apply iteratively.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:33.156399667+01:00","updated_at":"2025-12-18T20:52:10.695793238+01:00","closed_at":"2025-12-18T20:52:10.695810672+01:00","dependencies":[{"issue_id":"SafetySecretary-7zz.3","depends_on_id":"SafetySecretary-7zz","type":"parent-child","created_at":"2025-12-12T00:04:33.157108914+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-7zz.4","title":"Decide realtime multi-user scope","description":"Confirm whether v1 needs WebSocket multi-device editing or facilitator-only editing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T00:04:36.436788141+01:00","updated_at":"2025-12-18T20:48:11.9697027+01:00","closed_at":"2025-12-18T20:48:11.969704295+01:00","dependencies":[{"issue_id":"SafetySecretary-7zz.4","depends_on_id":"SafetySecretary-7zz","type":"parent-child","created_at":"2025-12-12T00:04:36.437590354+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-8u2","title":"Core stabilization \u0026 ratings correctness","description":"Stabilize DB/model and fix rating persistence/mapping before bigger features.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-12T00:03:33.518113166+01:00","updated_at":"2025-12-18T22:26:20.897002435+01:00","closed_at":"2025-12-18T22:26:20.897003835+01:00"}
{"id":"SafetySecretary-8u2.1","title":"Add strict severity/likelihood validation","description":"Enforce allowed values end-to-end. Prefer Prisma enums + migration, or Zod validation if migration risk is high.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T00:04:05.400955488+01:00","updated_at":"2025-12-12T11:48:11.094269945+01:00","closed_at":"2025-12-12T11:48:11.094273125+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.1","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-12T00:04:05.401593325+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-8u2.2","title":"Fix LLM contextual state to include ratings","description":"Frontend and backend tableState should include baseline/residual snapshots so updates like 'make that high' work.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T00:04:10.021655415+01:00","updated_at":"2025-12-12T11:48:15.818595029+01:00","closed_at":"2025-12-12T11:48:15.81859841+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.2","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-12T00:04:10.022310571+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-8u2.3","title":"Harden contextual apply endpoint","description":"Normalize/validate action status, category codes, step indices; return clear errors instead of silent no-ops.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T00:04:14.723537292+01:00","updated_at":"2025-12-12T11:48:15.792138266+01:00","closed_at":"2025-12-12T11:48:15.792140607+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.3","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-12T00:04:14.724333801+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-8u2.4","title":"Standardize baseline/residual naming","description":"Remove duplicate baselineAssessment/residualAssessment fields; keep one canonical name across backend+frontend.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:18.929065435+01:00","updated_at":"2025-12-18T20:28:25.937216656+01:00","closed_at":"2025-12-18T20:28:25.937218492+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.4","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-12T00:04:18.929985507+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-8u2.5","title":"Regression tests for ratings persistence","description":"Add backend+frontend tests to ensure severity/likelihood save/load and matrix counts match hazards.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:22.713917222+01:00","updated_at":"2025-12-18T19:50:44.857931992+01:00","closed_at":"2025-12-18T19:50:44.857933783+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.5","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-12T00:04:22.71460826+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-8u2.5","depends_on_id":"SafetySecretary-8u2.1","type":"blocks","created_at":"2025-12-12T00:05:39.414228607+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-8u2.6","title":"Backend: case-scoped write hardening","description":"Audit and fix backend write paths so every mutation is scoped to the case. Validate that step/hazard/control/action IDs belong to the case before updating/deleting; avoid cross-case updates via guessed IDs.","acceptance_criteria":"- All write operations verify case ownership for nested IDs\\n- Attempted cross-case mutations return 400/404\\n- Add/extend tests to cover at least one cross-case attempt","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:14:18.056570417+01:00","updated_at":"2025-12-18T20:22:24.918848461+01:00","closed_at":"2025-12-18T20:22:24.918850302+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.6","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-18T19:17:51.799702161+01:00","created_by":"import"}]}
{"id":"SafetySecretary-8u2.7","title":"Frontend: align LLM job typing with backend","description":"Update frontend LlmJobResponse typing to match backend job types (steps/hazards/controls/actions) and ensure polling code tolerates unknown types.","acceptance_criteria":"- frontend/src/lib/jobs.ts type union matches backend\\n- No TS type lies around controls/actions jobs","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T19:14:18.08937659+01:00","updated_at":"2025-12-18T20:24:53.659147565+01:00","closed_at":"2025-12-18T20:24:53.659149025+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.7","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-18T19:17:51.80049166+01:00","created_by":"import"}]}
{"id":"SafetySecretary-8u2.8","title":"Backend: make LLM jobs durable (or explicitly ephemeral)","description":"Decide and implement a durable job strategy for LLM extractions. Options: persist job state/results in DB, or keep in-memory but make UI/UX explicitly resilient to restarts (clear messaging + retry).","acceptance_criteria":"- Behavior on server restart is defined and acceptable\\n- If durable: job state persists and /api/llm-jobs/:id survives restart\\n- If ephemeral: frontend handles missing jobs gracefully and can re-run","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T19:14:18.122189698+01:00","updated_at":"2025-12-18T22:25:57.127474702+01:00","closed_at":"2025-12-18T22:25:57.127476468+01:00","dependencies":[{"issue_id":"SafetySecretary-8u2.8","depends_on_id":"SafetySecretary-8u2","type":"parent-child","created_at":"2025-12-18T19:17:51.801276399+01:00","created_by":"import"},{"issue_id":"SafetySecretary-8u2.8","depends_on_id":"SafetySecretary-91x.5","type":"blocks","created_at":"2025-12-18T19:17:51.802039331+01:00","created_by":"import"}]}
{"id":"SafetySecretary-91x","title":"Model: hazards are per-step HIRA rows","description":"Decision: hazards are not global. Each hazard record represents one HIRA table row in a specific process step (Teilprozess). Same hazard family can appear in multiple steps, but those are separate hazard rows with different controls/ratings/actions.\\n\\nImplication: current multi-step hazard linking (HazardStep join + hazard.stepIds) is the wrong abstraction; controls/ratings should not be shared across steps.\\n\\nGoal: enforce 1 step → many hazards, and 1 hazard → many actions.\\n\\nOut of scope for this epic: global hazard taxonomy/entities beyond category codes.","acceptance_criteria":"- Data model enforces hazard belongs to exactly one step\\n- Existing controls and baseline/residual ratings are unambiguous per hazard row\\n- UI/LLM flows operate on hazard rows without cross-step coupling\\n- Exports reflect per-step hazard rows","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-12T12:27:09.499884224+01:00","updated_at":"2025-12-18T22:22:53.00557038+01:00","closed_at":"2025-12-18T22:22:53.005571835+01:00"}
{"id":"SafetySecretary-91x.1","title":"Exports: ensure table rows match step-scoped hazards","description":"Confirm PDF/XLSX export iterates hazards per step (row semantics) and includes correct controls/ratings/actions.","acceptance_criteria":"- Export output reflects per-step hazard rows","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T12:27:26.908706792+01:00","updated_at":"2025-12-18T22:22:44.224041172+01:00","closed_at":"2025-12-18T22:22:44.224042872+01:00","dependencies":[{"issue_id":"SafetySecretary-91x.1","depends_on_id":"SafetySecretary-91x","type":"parent-child","created_at":"2025-12-12T12:27:26.909462939+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-91x.2","title":"Schema design: hazard belongs to one step","description":"Propose Prisma schema changes to make hazards step-scoped rows. Likely remove HazardStep join and add hazard.stepId + hazard.orderIndex (within step) to support reorder. Clarify how actions link (remain action.hazardId).","acceptance_criteria":"- Chosen schema supports reorder within step\\n- No remaining way for a single hazard row to span multiple steps","notes":"Schema must support:\\n- hazard rows belong to exactly one step but can be moved/copied to another step\\n- hazard row stores: categoryCode (SUVA taxonomy), short label, hazard description, consequences, persons at risk\\n- separate fields for mandatory requirements vs other recommended measures vs effectiveness/contributing factors narrative\\n- baseline assessment separate from residual; residual optional until mitigations defined\\n- actions can be hazard-linked or global (hazardId nullable)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T12:27:26.957142556+01:00","updated_at":"2025-12-18T21:53:43.001432838+01:00","closed_at":"2025-12-18T21:53:43.001434399+01:00","dependencies":[{"issue_id":"SafetySecretary-91x.2","depends_on_id":"SafetySecretary-91x","type":"parent-child","created_at":"2025-12-12T12:27:26.957920005+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-91x.3","title":"Frontend updates: hazards per step (row model)","description":"Update UI state/types to treat hazards as step-scoped rows. Remove any UI paths that assign one hazard to multiple steps. Keep grouping-by-step behavior.","acceptance_criteria":"- UI can add multiple hazards per step\\n- No UI flow links one hazard to multiple steps","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T12:27:27.004681613+01:00","updated_at":"2025-12-18T22:22:06.728180441+01:00","closed_at":"2025-12-18T22:22:06.72818213+01:00","dependencies":[{"issue_id":"SafetySecretary-91x.3","depends_on_id":"SafetySecretary-91x","type":"parent-child","created_at":"2025-12-12T12:27:27.005334493+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-91x.4","title":"Migration plan: convert existing multi-step hazards","description":"Define data migration strategy for existing cases: if a hazard is linked to multiple steps, split into multiple hazard rows (one per step) copying label/description/category/existingControls and duplicating assessments/actions appropriately (or prompting user).","acceptance_criteria":"- Migration rules documented for splitting hazards\\n- No data loss or silent merging","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T12:27:27.060886888+01:00","updated_at":"2025-12-18T21:55:32.997658027+01:00","closed_at":"2025-12-18T21:55:32.997659513+01:00","dependencies":[{"issue_id":"SafetySecretary-91x.4","depends_on_id":"SafetySecretary-91x","type":"parent-child","created_at":"2025-12-12T12:27:27.061987298+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-91x.5","title":"Backend updates: services/routes to new hazard model","description":"Update RiskAssessmentService and API routes to create/update/delete/reorder hazards within a single step without hazard.stepIds/HazardStep. Ensure validation stays strict.","acceptance_criteria":"- API supports add/edit/delete/reorder hazards per step\\n- Ratings/actions still work","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T12:27:27.108029072+01:00","updated_at":"2025-12-18T22:21:57.901231647+01:00","closed_at":"2025-12-18T22:21:57.901233343+01:00","dependencies":[{"issue_id":"SafetySecretary-91x.5","depends_on_id":"SafetySecretary-91x","type":"parent-child","created_at":"2025-12-12T12:27:27.108802058+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-91x.5","depends_on_id":"SafetySecretary-8u2.6","type":"blocks","created_at":"2025-12-18T19:17:51.803041883+01:00","created_by":"import"}]}
{"id":"SafetySecretary-91x.6","title":"LLM/contextual update: operate on hazard rows","description":"Update contextual parse/apply schema and prompts so commands reference hazard rows (which already imply a step). Remove/ignore commands that try to set hazard.stepIds.","acceptance_criteria":"- Natural-language updates never reassign a hazard row across steps\\n- Commands can add hazard to a specified step","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T12:27:27.157127552+01:00","updated_at":"2025-12-18T22:22:22.723854651+01:00","closed_at":"2025-12-18T22:22:22.723860166+01:00","dependencies":[{"issue_id":"SafetySecretary-91x.6","depends_on_id":"SafetySecretary-91x","type":"parent-child","created_at":"2025-12-12T12:27:27.157803206+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-hsc","title":"Exports polish toward 'good looks like' template","description":"Improve PDF/XLSX outputs to match the structure/clarity of HIRA Template SWP.xlsm (not exact ranges/macros).","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-12T00:03:49.433636781+01:00","updated_at":"2025-12-18T21:20:37.489178772+01:00","closed_at":"2025-12-18T21:20:37.489180549+01:00"}
{"id":"SafetySecretary-hsc.1","title":"Dissect HIRA template and map to data","description":"Review HIRA Template SWP.xlsm to lock target column/section structure and any missing fields.","notes":"Template column mapping extracted from user text (simplify Swissport/Airline wording, keep structure):\\n- Step: N°, Activity description (incl equipment/tools/materials/substances).\\n- Hazard ID: hazard code/category, hazard type/label, hazard description, potential consequences, person(s) at risk.\\n- Existing requirements \u0026 controls: mandatory H\u0026S requirements; other recommended preventive/control measures.\\n- Effectiveness (separate column): how effectively existing measures are implemented locally + frequent contributing factors.\\n- Baseline risk evaluation: likelihood, severity, risk level.\\n- Mitigation: action headlines / recommendations to mitigate (details live in Action Plan).\\n- Residual risk: likelihood, severity, risk level.\\n- Monitoring: measures to monitor/review residual risk + responsibility.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T00:05:11.247268008+01:00","updated_at":"2025-12-18T20:55:44.03160381+01:00","closed_at":"2025-12-18T20:55:44.031605342+01:00","dependencies":[{"issue_id":"SafetySecretary-hsc.1","depends_on_id":"SafetySecretary-hsc","type":"parent-child","created_at":"2025-12-12T00:05:11.247976855+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-hsc.2","title":"Improve XLSX/PDF outputs to match target structure","description":"Add missing columns/formatting, include photos when present, add UI Excel export button.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:05:14.638147711+01:00","updated_at":"2025-12-18T21:15:30.643909781+01:00","closed_at":"2025-12-18T21:15:30.643912336+01:00","dependencies":[{"issue_id":"SafetySecretary-hsc.2","depends_on_id":"SafetySecretary-hsc","type":"parent-child","created_at":"2025-12-12T00:05:14.638840595+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-ouu","title":"Align severity/likelihood scales + risk bands to HIRA template","description":"Replace current LOW/MEDIUM/HIGH/CRITICAL + RARE/UNLIKELY/... with the HIRA template's 5×5 severity/likelihood scales and risk acceptance bands (Extreme/High/Moderate/Minor/Negligible), including guidance metadata (treat/tolerate, approvals, timescales).","acceptance_criteria":"- UI dropdowns use template scales\\n- Backend validation/enums match template scales\\n- Risk band computed exactly per template\\n- Exports show the same labels as the template","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-12T12:58:28.008312196+01:00","updated_at":"2025-12-18T22:45:55.661469228+01:00","closed_at":"2025-12-18T22:45:55.661470853+01:00"}
{"id":"SafetySecretary-ouu.1","title":"Exports: show template risk bands + guidance","description":"Update PDF/XLSX outputs to show severity/likelihood labels and risk band, and optionally the treat/tolerate guidance.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T12:58:38.660943322+01:00","updated_at":"2025-12-18T22:45:50.567937211+01:00","closed_at":"2025-12-18T22:45:50.567938757+01:00","dependencies":[{"issue_id":"SafetySecretary-ouu.1","depends_on_id":"SafetySecretary-ouu","type":"parent-child","created_at":"2025-12-12T12:58:38.661418457+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-ouu.2","title":"Backend: update validation + types for new scales","description":"Update enums/types/validation so severity and likelihood values match the template scales, and store computed risk band. Keep baseline/residual separate.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T12:58:38.687416731+01:00","updated_at":"2025-12-18T22:45:40.383469148+01:00","closed_at":"2025-12-18T22:45:40.383470612+01:00","dependencies":[{"issue_id":"SafetySecretary-ouu.2","depends_on_id":"SafetySecretary-ouu","type":"parent-child","created_at":"2025-12-12T12:58:38.68790744+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-ouu.3","title":"Confirm risk matrix mapping (5x5)","description":"Extract or encode the exact mapping from (severity, likelihood) to risk band (Extreme/High/Moderate/Minor/Negligible) from the template. Decide whether it's a lookup table or formula + thresholds.","acceptance_criteria":"- Mapping is explicitly defined (table or formula)\\n- Unit tests cover all combinations or key thresholds","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T12:58:38.713519359+01:00","updated_at":"2025-12-18T22:12:19.43972485+01:00","closed_at":"2025-12-18T22:12:19.439726642+01:00","dependencies":[{"issue_id":"SafetySecretary-ouu.3","depends_on_id":"SafetySecretary-ouu","type":"parent-child","created_at":"2025-12-12T12:58:38.713985764+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-ouu.4","title":"Frontend: update risk rating UI to template scales","description":"Update dropdowns/labels and risk display (band + guidance) to use template scales. Ensure baseline can exist without residual.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T12:58:38.740755165+01:00","updated_at":"2025-12-18T22:45:45.473836946+01:00","closed_at":"2025-12-18T22:45:45.473838342+01:00","dependencies":[{"issue_id":"SafetySecretary-ouu.4","depends_on_id":"SafetySecretary-ouu","type":"parent-child","created_at":"2025-12-12T12:58:38.741232543+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-xg8","title":"UI harmonization + browser TUI experiment","description":"Unify interaction patterns across phases/views. In parallel, prototype a terminal-like spreadsheet UI in browser (feature-flagged) and converge on best UX.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-12T00:03:42.055095396+01:00","updated_at":"2025-12-18T23:03:17.30249341+01:00","closed_at":"2025-12-18T23:03:17.302494972+01:00"}
{"id":"SafetySecretary-xg8.1","title":"Audit current UI patterns","description":"Catalog how steps/hazards/actions are added/edited/reordered in each view; identify inconsistencies.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T00:04:41.189990426+01:00","updated_at":"2025-12-18T20:44:16.477102398+01:00","closed_at":"2025-12-18T20:44:16.477103863+01:00","dependencies":[{"issue_id":"SafetySecretary-xg8.1","depends_on_id":"SafetySecretary-xg8","type":"parent-child","created_at":"2025-12-12T00:04:41.190645717+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-xg8.2","title":"Design unified interaction model","description":"Define one consistent add/edit/delete/reorder pattern for all table entities. Specify keyboard-first flow + visible affordances.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T00:04:44.52270228+01:00","updated_at":"2025-12-18T20:46:27.818190801+01:00","closed_at":"2025-12-18T20:46:27.818192563+01:00","dependencies":[{"issue_id":"SafetySecretary-xg8.2","depends_on_id":"SafetySecretary-xg8","type":"parent-child","created_at":"2025-12-12T00:04:44.523384458+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-xg8.2","depends_on_id":"SafetySecretary-xg8.1","type":"blocks","created_at":"2025-12-12T00:05:35.623262081+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-xg8.3","title":"Refactor phases to shared sheet components","description":"Make Guided and Workspace views use same underlying sheet/row editors and command bar.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:47.594123717+01:00","updated_at":"2025-12-18T22:56:37.720927859+01:00","closed_at":"2025-12-18T22:56:37.720929345+01:00","dependencies":[{"issue_id":"SafetySecretary-xg8.3","depends_on_id":"SafetySecretary-xg8","type":"parent-child","created_at":"2025-12-12T00:04:47.594833407+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-xg8.3","depends_on_id":"SafetySecretary-xg8.2","type":"blocks","created_at":"2025-12-12T00:05:35.636220585+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-xg8.4","title":"Prototype browser TUI spreadsheet view","description":"Build an optional terminal-like, keyboard-driven table UI (feature-flagged). Compare usability with polished sheet UI.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:51.483927438+01:00","updated_at":"2025-12-18T23:00:53.819107792+01:00","closed_at":"2025-12-18T23:00:53.819109281+01:00","dependencies":[{"issue_id":"SafetySecretary-xg8.4","depends_on_id":"SafetySecretary-xg8","type":"parent-child","created_at":"2025-12-12T00:04:51.484686649+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-xg8.4","depends_on_id":"SafetySecretary-xg8.2","type":"blocks","created_at":"2025-12-12T00:05:35.648148411+01:00","created_by":"daemon"}]}
{"id":"SafetySecretary-xg8.5","title":"Converge on final UI and polish","description":"Pick best patterns from sheet/TUI prototypes, apply consistently, and do a style/spacing pass.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T00:04:54.616667089+01:00","updated_at":"2025-12-18T23:02:55.049845938+01:00","closed_at":"2025-12-18T23:02:55.049847402+01:00","dependencies":[{"issue_id":"SafetySecretary-xg8.5","depends_on_id":"SafetySecretary-xg8","type":"parent-child","created_at":"2025-12-12T00:04:54.617326667+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-xg8.5","depends_on_id":"SafetySecretary-xg8.3","type":"blocks","created_at":"2025-12-12T00:05:35.660825697+01:00","created_by":"daemon"},{"issue_id":"SafetySecretary-xg8.5","depends_on_id":"SafetySecretary-xg8.4","type":"blocks","created_at":"2025-12-12T00:05:35.672880127+01:00","created_by":"daemon"}]}
